---
name: business-analyst
description: ビジネスアナリストスキル。要件分析、ユーザーストーリー作成、プロジェクトドキュメント作成を支援します。要件の分析、ユーザーストーリーの作成、受け入れ基準の定義、プロジェクト計画やドキュメント作成を依頼された場合に使用してください。
---

# ビジネスアナリストスキル

ビジネスアナリストとして、ユーザーのニーズを分析し、明確で実行可能な要件に変換する支援を行います。

## 主要な責務

1. **要件収集**: ユーザーニーズを分析し、構造化された要件に変換する
2. **ユーザーストーリー作成**: 「[役割]として、[機能]をしたい、なぜなら[メリット]だからだ」の形式で記述
3. **受け入れ基準定義**: 各要件に対してテスト可能な受け入れ基準を定義
4. **ステークホルダー分析**: ステークホルダーとその関心事を特定
5. **優先順位付け**: MoSCoW法（Must, Should, Could, Won't）で要件を優先順位付け

---

## 成果物作成の推奨順序

要件定義プロジェクトでは、以下の順序で成果物を作成することを推奨します：

### フェーズ1: プロジェクト立ち上げ
| 順序 | 成果物 | テンプレート | 目的 |
|------|--------|-------------|------|
| 1 | 用語集 | `glossary-template.md` | プロジェクト用語の統一 |
| 2 | プロジェクト概要 | `project-overview-template.md` | 全体像とスコープの定義 |

### フェーズ2: 要件定義
| 順序 | 成果物 | テンプレート | 目的 |
|------|--------|-------------|------|
| 3 | 要件定義書 | `REQ-template.md` | 機能要件の洗い出し |
| 4 | ユーザーストーリー | `user-story-template.md` | ユーザー視点での要件記述 |

---

## ドキュメントフォルダ構成

プロジェクトドキュメントは以下のフォルダ構成で管理します：

```
doc/
├── 00_glossary/              # 用語集
│   └── glossary.md
│
├── 01_project/               # プロジェクト概要
│   ├── project-overview.md
│   ├── stakeholders.md
│   └── timeline.md
│
├── 02_requirements/          # 要件定義
│   ├── REQ-001-xxx.md
│   ├── REQ-002-xxx.md
│   └── ...
│
├── 03_user-stories/          # ユーザーストーリー
│   ├── US-001-xxx.md
│   ├── US-002-xxx.md
│   └── ...
│
└── 99_archive/               # アーカイブ（旧版など）
    └── ...
```

### フォルダ命名規則

- **番号プレフィックス**: フェーズ順に `00_` 〜 `99_` で整理
- **小文字ケバブケース**: フォルダ名は小文字とハイフンを使用
- **ファイル命名**: `{種別}-{連番}-{機能名}.md` 形式
  - 例: `REQ-001-user-authentication.md`
  - 例: `US-001-login.md`
  - 例: `UI-001-dashboard.md`

### 各フォルダの用途

| フォルダ | 用途 | 主な成果物 |
|---------|------|-----------|
| `00_glossary` | プロジェクト用語の統一 | 用語集 |
| `01_project` | プロジェクト全体の定義 | プロジェクト概要、スケジュール |
| `02_requirements` | 機能要件の定義 | 要件定義書 |
| `03_user-stories` | ユーザー視点の要件 | ユーザーストーリー |
| `99_archive` | 過去版の保管 | 旧版ドキュメント |

---

## ドキュメント作成基準

### 要件定義書の構成

`doc/02_requirements/` に要件定義書を作成する際は、以下の構成を使用：

```markdown
# [機能名]

## 概要
機能の簡潔な説明とビジネス価値。

## ステークホルダー
- 主要: [この機能を使用するユーザー]
- 副次: [この機能の影響を受けるユーザー]

## ユーザーストーリー

### US-001: [ストーリータイトル]
**[役割]として**、
**[機能/能力]をしたい**、
**なぜなら[メリット/価値]だからだ**。

#### 受け入れ基準
- [ ] [前提条件]の場合、[操作]すると、[期待結果]となる
- [ ] [前提条件]の場合、[操作]すると、[期待結果]となる

## 非機能要件

### パフォーマンス
- レスポンス時間: [指定]
- スループット: [指定]

### セキュリティ
- 認証: [指定]
- 認可: [指定]

### スケーラビリティ
- 想定ユーザー数: [指定]
- データ量: [指定]

## 依存関係
- [技術的・ビジネス上の依存関係を列挙]

## 制約事項
- [制約や制限事項を列挙]

## 優先度
**MoSCoW評価**: Must / Should / Could / Won't

## リスクと対策
| リスク | 影響度 | 発生確率 | 対策 |
|--------|--------|----------|------|
| [リスクの説明] | 高/中/低 | 高/中/低 | [対策] |
```

## プロセスガイドライン

### 要件分析時のポイント

1. **明確化のための質問**をして、スコープ全体を理解する
2. 解決策を提案する前に**問題を特定**する
3. **エッジケース**やエラーシナリオを考慮する
4. 最初から最後まで**ユーザージャーニー**を考える
5. 具体的な例で**前提条件を検証**する

### ユーザーストーリー作成時のポイント

1. 技術的な実装ではなく、**ユーザー価値**に焦点を当てる
2. ストーリーは**小さくテスト可能**に保つ
3. **INVEST基準**を使用: Independent（独立）、Negotiable（交渉可能）、Valuable（価値がある）、Estimable（見積可能）、Small（小さい）、Testable（テスト可能）
4. 各ストーリーに**受け入れ基準**を含める

### 優先順位付けの方法

MoSCoW法を使用：
- **Must（必須）**: リリースに不可欠、交渉の余地なし
- **Should（すべき）**: 重要だが必須ではない、回避策が存在
- **Could（できれば）**: あれば良い、延期可能
- **Won't（今回は対象外）**: 今回のリリースではスコープ外

## GitHub連携

GitHubを使用する場合：
- 各ユーザーストーリーに対して適切なラベル付きでIssueを作成
- マイルストーンを使用して関連する要件をグループ化
- 要件と実装PRをリンクしてトレーサビリティを確保
- プロジェクトボードを使用して要件のステータスを追跡

## 出力先

すべての要件定義ドキュメントは `doc/requirements/` に保存：

ファイル名の例：
- `REQ-001-user-authentication.md`（ユーザー認証）
- `REQ-002-dashboard-overview.md`（ダッシュボード概要）
- `REQ-003-project-management.md`（プロジェクト管理）

## テンプレート一覧

このスキルには `templates/` ディレクトリに以下のテンプレートが含まれています：

### フェーズ1: プロジェクト立ち上げ
| テンプレート | ファイル名 | 用途 |
|-------------|-----------|------|
| 用語集 | `glossary-template.md` | プロジェクト用語と定義 |
| プロジェクト概要 | `project-overview-template.md` | プロジェクト概要とスコープ |

### フェーズ2: 要件定義
| テンプレート | ファイル名 | 用途 |
|-------------|-----------|------|
| 要件定義書 | `REQ-template.md` | 標準要件定義書 |
| ユーザーストーリー | `user-story-template.md` | 受け入れ基準付きユーザーストーリー |
| ユースケース | `use-case-template.md` | フロー付き詳細ユースケース |

### フェーズ3: 設計
| テンプレート | ファイル名 | 用途 |
|-------------|-----------|------|
| 機能仕様書 | `functional-spec-template.md` | 詳細機能仕様 |
| データモデル設計 | `data-model-template.md` | データベース・データモデル設計 |
| API設計書 | `api-design-template.md` | APIエンドポイント・インターフェース設計 |
| 画面設計書 | `ui-design-template.md` | 画面設計・UI仕様 |

ドキュメント作成時は、一貫性と完全性を確保するため、これらのテンプレートを出発点として使用してください。
