---
name: ux-designer
description: UXデザイナースキル。ユーザー体験を最優先としたUI設計を支援します。ワイヤーフレーム、画面設計、インタラクション設計、アクセシビリティ対応を依頼された場合に使用してください。
---

# UXデザイナースキル

UXデザイナーとして、ユーザー体験を最優先としたUI設計を支援します。ユーザビリティとアクセシビリティを考慮した、使いやすく美しいインターフェースを設計します。

## 主要な責務

1. **ユーザー調査**: ペルソナ定義、ユーザージャーニーマップ作成
2. **情報設計**: 情報アーキテクチャ、ナビゲーション設計
3. **画面設計**: ワイヤーフレーム、UIコンポーネント設計
4. **インタラクション設計**: 状態遷移、アニメーション、フィードバック
5. **アクセシビリティ**: WCAG準拠、インクルーシブデザイン

---

## UXデザイン原則

### ニールセンのユーザビリティ10原則

| # | 原則 | 説明 | 実装例 |
|---|------|------|--------|
| 1 | システム状態の可視化 | 現在何が起きているかを常に表示 | ローディング、進捗バー、保存状態 |
| 2 | 現実世界との一致 | ユーザーの言葉・概念を使用 | 技術用語を避け、一般的な表現を使用 |
| 3 | ユーザーの制御と自由 | 元に戻す・やり直しを常に可能に | Undo/Redo、キャンセルボタン |
| 4 | 一貫性と標準 | 同じ操作は同じ結果に | デザインシステム、共通パターン |
| 5 | エラー防止 | エラーが起きにくい設計 | 確認ダイアログ、バリデーション |
| 6 | 記憶より認識 | 選択肢を見せ、記憶負荷を軽減 | ドロップダウン、サジェスト |
| 7 | 柔軟性と効率 | 初心者・熟練者両方に対応 | ショートカット、カスタマイズ |
| 8 | 美しくミニマル | 不要な情報を排除 | 余白、階層化、プログレッシブ開示 |
| 9 | エラー回復支援 | 分かりやすいエラー表示と解決策 | エラーメッセージ、リカバリ手順 |
| 10 | ヘルプとドキュメント | 必要な時にヘルプを提供 | ツールチップ、オンボーディング |

### UX品質モデル

選択した項目は再クリックすると選択が解除される（トグル動作）を基本とする。

---

## UIコンポーネント設計

### Atomic Design

```
┌─────────────────────────────────────────────────────────────┐
│  Pages (ページ)                                              │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  Templates (テンプレート)                              │   │
│  │  ┌─────────────────────────────────────────────┐   │   │
│  │  │  Organisms (有機体)                           │   │   │
│  │  │  ┌─────────────────────────────────────┐   │   │   │
│  │  │  │  Molecules (分子)                     │   │   │   │
│  │  │  │  ┌─────────────────────────────┐   │   │   │   │
│  │  │  │  │  Atoms (原子)                 │   │   │   │   │
│  │  │  │  │  Button, Input, Label, Icon │   │   │   │   │
│  │  │  │  └─────────────────────────────┘   │   │   │   │
│  │  │  │  SearchBox, FormField, Card       │   │   │   │
│  │  │  └─────────────────────────────────────┘   │   │   │
│  │  │  Header, Sidebar, DataTable, Modal        │   │   │
│  │  └─────────────────────────────────────────────┘   │   │
│  │  DashboardLayout, FormLayout, ListLayout          │   │
│  └─────────────────────────────────────────────────────┘   │
│  Dashboard, UserList, Settings                              │
└─────────────────────────────────────────────────────────────┘
```

### コンポーネント状態

すべてのインタラクティブコンポーネントは以下の状態を考慮：

| 状態 | 説明 | 視覚的表現 |
|------|------|-----------|
| Default | 通常状態 | 基本スタイル |
| Hover | マウスオーバー | 背景色変更、カーソル変更 |
| Focus | キーボードフォーカス | アウトライン、ボーダー変更 |
| Active | クリック中 | 押下感（暗い色） |
| Disabled | 無効状態 | 透明度50%、カーソル変更 |
| Loading | 読み込み中 | スピナー、スケルトン |
| Error | エラー状態 | 赤色ボーダー、エラーメッセージ |
| Success | 成功状態 | 緑色、チェックマーク |

---

## デザインシステム

### カラーパレット

白背景・青メインのカラーパレット：

```
背景色
├── Primary   : #ffffff (white)      メイン背景
├── Secondary : #f8fafc (slate-50)   カード・セクション
└── Tertiary  : #f1f5f9 (slate-100)  ホバー状態

テキスト
├── Primary   : #0f172a (slate-900)  主要テキスト
├── Secondary : #475569 (slate-600)  補助テキスト
└── Muted     : #94a3b8 (slate-400)  控えめテキスト

アクセントカラー
├── Primary   : #2563eb (blue-600)   主要アクション
├── Light     : #3b82f6 (blue-500)   ホバー時
├── Dark      : #1d4ed8 (blue-700)   アクティブ時
└── Secondary : #8b5cf6 (violet-500) 副次アクション

ステータス
├── Success   : #16a34a (green-600)  成功
├── Warning   : #ca8a04 (yellow-600) 警告
└── Error     : #dc2626 (red-600)    エラー

ボーダー
├── Default   : #e2e8f0 (slate-200)  通常
├── Hover     : #cbd5e1 (slate-300)  ホバー時
└── Focus     : #2563eb (blue-600)   フォーカス時
```

### スペーシング

| トークン | 値 | 用途 |
|----------|-----|------|
| xs | 4px (0.25rem) | 最小間隔 |
| sm | 8px (0.5rem) | 要素内パディング |
| md | 16px (1rem) | 標準間隔 |
| lg | 24px (1.5rem) | セクション間 |
| xl | 32px (2rem) | 大きな区切り |
| 2xl | 48px (3rem) | ページセクション |

### 絵文字・アイコンガイドライン

| 用途 | 絵文字 | 説明 |
|------|--------|------|
| AIアシスタント | ✨ | スマートさ・洗練された支援を表現 |
| ナビゲーション | 📊 📝 🗂 🔄 👤 | 機能カテゴリを視覚的に区別 |
| アクション | ➕ ✏️ 🗑️ | 追加・編集・削除 |
| ステータス | ✅ ⚠️ ❌ | 成功・警告・エラー |
| 進行状態 | 🔄 ⏳ | 処理中・待機中 |



### タイポグラフィ

| 用途 | サイズ | ウェイト | 行間 |
|------|--------|---------|------|
| H1 | 24px (1.5rem) | Bold | 1.25 |
| H2 | 20px (1.25rem) | Semibold | 1.3 |
| H3 | 18px (1.125rem) | Medium | 1.4 |
| Body | 16px (1rem) | Normal | 1.5 |
| Caption | 14px (0.875rem) | Normal | 1.5 |
| Small | 12px (0.75rem) | Normal | 1.5 |

---

## 画面設計テンプレート

### ワイヤーフレーム記法

```
┌────────────────────────────────────────────────────────────┐
│ [Header]                                        [@] [≡]   │
├────────────────────────────────────────────────────────────┤
│        │                                                   │
│ [Nav]  │  [Main Content Area]                             │
│        │                                                   │
│  • 項目1│  ┌──────────────────────────────────────────┐  │
│  • 項目2│  │                                          │  │
│  • 項目3│  │  [Card Component]                        │  │
│        │  │                                          │  │
│        │  └──────────────────────────────────────────┘  │
│        │                                                   │
├────────────────────────────────────────────────────────────┤
│ [Footer]                                                   │
└────────────────────────────────────────────────────────────┘

凡例:
[ ] = コンポーネント
• = リスト項目
─ │ = ボーダー
```

### 画面設計書の構成

```markdown
# [画面名] - UI設計書

## 1. 概要
- 画面の目的
- 対象ユーザー
- 関連ユーザーストーリー

## 2. ワイヤーフレーム
[ASCII図またはFigmaリンク]

## 3. コンポーネント一覧
| # | コンポーネント | 機能 | 状態 |
|---|---------------|------|------|
| 1 | ヘッダー | ナビゲーション | 固定表示 |
| 2 | 検索ボックス | テキスト検索 | Focus, Disabled |

## 4. インタラクション
- クリック時: ...
- ホバー時: ...
- キーボード操作: ...

## 5. レスポンシブ対応
| ブレークポイント | レイアウト変更 |
|-----------------|---------------|
| < 768px | サイドバー非表示 |
| ≥ 1024px | 3カラム表示 |

## 6. アクセシビリティ
- キーボード操作対応
- スクリーンリーダー対応
- コントラスト比確認
```

---

## チェックリスト

### 画面設計時

- [ ] ユーザーストーリーを理解している
- [ ] ペルソナ・シナリオを考慮している
- [ ] 情報の優先順位を決めている
- [ ] レスポンシブ対応を考慮している
- [ ] エラー状態を設計している
- [ ] ローディング状態を設計している
- [ ] 空の状態（Empty State）を設計している

### アクセシビリティ

- [ ] コントラスト比4.5:1以上
- [ ] キーボード操作可能
- [ ] フォーカス状態が視認できる
- [ ] 代替テキストを設定
- [ ] セマンティックHTMLを使用
- [ ] ARIA属性を適切に使用
- [ ] フォーカストラップを実装（モーダル）

### インタラクション

- [ ] 全状態（Default, Hover, Focus, Active, Disabled）を定義
- [ ] ローディングフィードバックを表示
- [ ] 成功・エラーフィードバックを表示
- [ ] 適切なトランジション（150-300ms）
- [ ] 確認が必要な操作に確認ダイアログ

---

## 出力例

### コンポーネント設計

```
[Component] StoryCard

目的: ユーザーストーリーをカード形式で表示

┌─────────────────────────────────────┐
│ [US-001] [MUST] [DRAFT]            │
│ 商品を検索する                       │
│                                     │
│ As a: 買い物をしたいユーザー          │
│ I want: キーワードで商品を検索したい   │
│ So that: 欲しい商品を素早く見つけられる│
│ ──────────────────────────────      │
│ ✓ 3/5 受け入れ条件    [✅ 設計 →]  │
│ [📦 商品] [📁 カテゴリ]              │
└─────────────────────────────────────┘

状態:
- Default: gray-700 border
- Hover: gray-600 border
- Selected: cyan-500 border, gray-800 bg
- Focus: cyan-500 outline

インタラクション:
- クリック: 選択/解除トグル
- ダブルクリック: 詳細画面へ
- 右クリック: コンテキストメニュー
```

### 画面遷移図

```
[プロジェクト一覧]
      │
      ▼
[プロジェクト詳細] ──→ [エピック追加]
      │
      ▼
[エピック編集（3カラム）]
  │   │   │
  ▼   ▼   ▼
[ストーリー] [データモデル] [チャット]
      │
      ▼
[ストーリー詳細（3カラム）]
  │   │   │
  ▼   ▼   ▼
[ストーリー一覧] [受け入れ条件] [チャット]
```

---

## UIデザインパターン

### インタラクションパターン

#### トグル選択（選択/解除）
```
選択前:              選択後:              再クリック:
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ 項目A       │ → │ 項目A ✓     │ → │ 項目A       │
│ (通常)      │    │ (選択状態)   │    │ (解除)      │
└─────────────┘    └─────────────┘    └─────────────┘
 border-slate-200    border-blue-500    border-slate-200
                     bg-blue-50
```
- **動作**: 選択済みアイテムを再クリック → 選択解除
- **用途**: リスト選択、カード選択、フィルタータグ
- **視覚的フィードバック**: 
  - 選択時: 青枠線、薄い背景色、チェックマーク
  - 解除時: 通常状態に戻る
- **実装時の注意**: 
  - `onClick={() => setSelected(selected === id ? null : id)}`
  - アクセシビリティ: `aria-selected` 属性を使用

#### 単一選択（ラジオ的）
```
┌─────────────┐ ┌─────────────┐ ┌─────────────┐
│ 項目A ●     │ │ 項目B       │ │ 項目C       │
└─────────────┘ └─────────────┘ └─────────────┘
        ↓ 項目Bをクリック
┌─────────────┐ ┌─────────────┐ ┌─────────────┐
│ 項目A       │ │ 項目B ●     │ │ 項目C       │
└─────────────┘ └─────────────┘ └─────────────┘
```
- **動作**: 他の項目をクリック → 自動的に前の選択が解除
- **用途**: 排他的な選択が必要な場合
- **トグルとの違い**: 同じ項目の再クリックで解除するかは要件次第

#### 複数選択（チェックボックス的）
```
┌─────────────┐ ┌─────────────┐ ┌─────────────┐
│ ☑ 項目A    │ │ ☑ 項目B    │ │ □ 項目C    │
└─────────────┘ └─────────────┘ └─────────────┘
```
- **動作**: 複数アイテムを同時に選択可能
- **用途**: 一括操作、フィルター条件
- **UI要素**: 全選択/全解除ボタンを提供

#### ドラッグ&ドロップ
```
┌─────────┐                    ┌─────────┐
│ 項目A   │ ─drag→            │ 項目A   │
├─────────┤        ┌───────┐  ├─────────┤
│ 項目B   │        │ 項目C │  │ 項目C   │ ← 挿入位置
├─────────┤        └───────┘  ├─────────┤
│ 項目C   │                    │ 項目B   │
└─────────┘                    └─────────┘
```
- **フィードバック**: ドラッグ中はゴースト表示、ドロップ先はハイライト
- **用途**: 並び替え、カテゴリ移動
- **フォールバック**: ドラッグできない環境用に矢印ボタンを提供

#### 長押し（モバイル）
```
通常タップ:     長押し (500ms):
┌─────────┐    ┌─────────┐
│ 項目A   │    │ 項目A   │ → コンテキストメニュー表示
└─────────┘    └─────────┘    または編集モード突入
```
- **用途**: 追加操作の表示、編集モード切替
- **デスクトップ代替**: 右クリック

#### ダブルクリック編集
```
シングルクリック:        ダブルクリック:
┌─────────────────┐    ┌─────────────────┐
│ 📦 products     │    │ 📦 products     │
│   (商品)        │ →  │   (商品)        │ → 編集モーダル or 画面遷移
│ 属性: 6        │    │ 属性: 6        │
└─────────────────┘    └─────────────────┘
   選択のみ              編集アクション発火

モーダル編集:                          画面遷移:
┌──────────────────────────┐         ┌─────────────────────────┐
│ 📝 エンティティ編集        │         │ ← 戻る                  │
├──────────────────────────┤         ├─────────────────────────┤
│ テーブル名: [products   ] │         │                         │
│ 論理名:     [商品       ] │         │   詳細編集画面           │
│ 説明:       [販売商品... ] │         │   (フルページ)           │
├──────────────────────────┤         │                         │
│     [キャンセル] [保存]    │         │                         │
└──────────────────────────┘         └─────────────────────────┘
```
- **シングルクリック**: 選択のみ（詳細表示、ハイライト）
- **ダブルクリック**: 編集アクションを発火
  - **モーダル編集**: 少量の項目を素早く編集（名前、説明など）
  - **画面遷移**: 複雑な編集が必要な場合（状態遷移図、詳細設定）
- **視覚的ヒント**: 
  - ホバー時: `cursor-pointer`、ボーダー色変更
  - ツールチップ: `title="ダブルクリックで編集"`
  - UIラベル: `✏️ ダブルクリックで編集`（控えめに表示）
- **実装パターン**:
  ```tsx
  <div
    onClick={() => setSelected(item)}
    onDoubleClick={() => openEditModal(item)}
    className="cursor-pointer hover:border-blue-300"
    title="ダブルクリックで編集"
  >
  ```
- **アクセシビリティ**: 
  - キーボード代替: 選択状態で `Enter` キーで編集モード
  - 編集ボタンも併設（ダブルクリックが難しいユーザー向け）
- **使い分け**:
  | 編集内容 | 推奨パターン | 理由 |
  |---------|-------------|------|
  | 名前・説明の変更 | モーダル | 即時編集、コンテキスト維持 |
  | 複数関連項目の編集 | 画面遷移 | 広い作業領域が必要 |
  | 状態遷移図など | 画面遷移 | 専用エディタが必要 |

### ナビゲーションパターン

#### サイドバーナビゲーション
```
┌──────┬─────────────────────────────┐
│ Logo │  [Search]           [@][≡] │
├──────┼─────────────────────────────┤
│ 📁   │                             │
│ 項目1 │   メインコンテンツ            │
│ 項目2 │                             │
│ 項目3 │                             │
│      │                             │
└──────┴─────────────────────────────┘
用途: 管理画面、ダッシュボード
特徴: 常時表示、階層構造に適す
```

#### タブナビゲーション
```
┌─────────────────────────────────────┐
│ [タブ1] [タブ2] [タブ3]              │
├─────────────────────────────────────┤
│                                     │
│   タブコンテンツ                      │
│                                     │
└─────────────────────────────────────┘
用途: 関連コンテンツの切り替え
特徴: 同一階層、5つ以下推奨
```

#### ブレッドクラム
```
ホーム > プロジェクト > エピック詳細
```
用途: 深い階層構造
特徴: 現在地の把握、戻りやすさ

### レイアウトパターン

#### マスター・ディテール（2カラム）
```
┌──────────────┬──────────────────────┐
│ リスト        │ 詳細                  │
│ ┌──────────┐ │                      │
│ │ 項目1 ✓  │ │  選択項目の詳細情報   │
│ ├──────────┤ │                      │
│ │ 項目2    │ │  [編集] [削除]       │
│ ├──────────┤ │                      │
│ │ 項目3    │ │                      │
│ └──────────┘ │                      │
└──────────────┴──────────────────────┘
用途: メール、チャット、設定画面
操作: 左で選択→右に詳細表示
```

#### 3カラムエディタ
```
┌────────────┬────────────────┬────────────┐
│ コンテキスト │ メインエディタ   │ ツール      │
│            │                │            │
│ リスト表示  │  編集領域       │ チャット    │
│ 参照情報   │  フォーム       │ プロパティ  │
│            │                │            │
└────────────┴────────────────┴────────────┘
用途: 複雑な編集作業
比率: 1:2:1 または 25%:50%:25%
```

#### カードグリッド
```
┌─────────┐ ┌─────────┐ ┌─────────┐
│  Card   │ │  Card   │ │  Card   │
│  ────   │ │  ────   │ │  ────   │
│  説明   │ │  説明   │ │  説明   │
└─────────┘ └─────────┘ └─────────┘
┌─────────┐ ┌─────────┐ ┌─────────┐
│  Card   │ │  Card   │ │  Card   │
└─────────┘ └─────────┘ └─────────┘
用途: 一覧表示、ダッシュボード
特徴: レスポンシブ対応しやすい
```

### フォームパターン

#### インラインバリデーション
```
┌─────────────────────────────────────┐
│ メールアドレス *                     │
│ ┌─────────────────────────────────┐ │
│ │ invalid-email                   │ │
│ └─────────────────────────────────┘ │
│ ⚠️ 有効なメールアドレスを入力してください│
└─────────────────────────────────────┘
タイミング: blur時にバリデーション
表示: フィールド直下にエラー
```

#### ステップフォーム（ウィザード）
```
Step 1        Step 2        Step 3
  ●────────────○────────────○
 基本情報      詳細設定       確認

┌─────────────────────────────────────┐
│                                     │
│   現在のステップのフォーム            │
│                                     │
├─────────────────────────────────────┤
│         [戻る]     [次へ]           │
└─────────────────────────────────────┘
用途: 複雑な入力、登録フロー
特徴: 分割による負荷軽減
```

#### 検索フィルター
```
┌─────────────────┐ ┌──────────────────┐
│ 🔍 検索...      │ │ ステータス ▼     │
└─────────────────┘ └──────────────────┘
[✓ MUST] [SHOULD] [COULD] [WONT]

適用中: 3件のフィルター    [クリア]
```

### フィードバックパターン

#### トースト通知
```
                    ┌─────────────────────┐
                    │ ✓ 保存しました      ×│
                    └─────────────────────┘
位置: 右上または右下
表示時間: 3-5秒
種類: success(緑), error(赤), warning(黄), info(青)
```

#### 確認ダイアログ
```
        ┌─────────────────────────────┐
        │ ⚠️ 削除の確認                │
        ├─────────────────────────────┤
        │                             │
        │ このストーリーを削除しますか？│
        │ この操作は取り消せません。    │
        │                             │
        ├─────────────────────────────┤
        │     [キャンセル] [削除]      │
        └─────────────────────────────┘
用途: 破壊的操作の前
ボタン: 主アクションを右側に配置
```

#### ローディング状態
```
スピナー:        スケルトン:
   ⟳            ┌─────────────────┐
  読み込み中...   │ ████████░░░░░░░ │
                │ ████░░░░░░░░░░░ │
                └─────────────────┘
用途: 
- スピナー: 全画面、ボタン内
- スケルトン: コンテンツ読み込み
```

### 空状態パターン

#### Empty State
```
        ┌─────────────────────────────┐
        │                             │
        │           📭                │
        │                             │
        │    データがありません         │
        │                             │
        │  最初のアイテムを作成して     │
        │  始めましょう                │
        │                             │
        │      [+ 新規作成]           │
        │                             │
        └─────────────────────────────┘
要素:
- イラスト/アイコン
- メッセージ
- 次のアクション
```

### モーダル/オーバーレイパターン

#### サイドパネル（ドロワー）
```
┌────────────────────┬────────────────┐
│                    │ [×] 詳細編集   │
│   メインコンテンツ  │ ──────────────│
│   (暗く表示)       │               │
│                    │  フォーム      │
│                    │               │
│                    │  [保存]       │
└────────────────────┴────────────────┘
用途: 詳細表示、クイック編集
サイズ: 300-500px幅
```

#### モーダルダイアログ
```
┌───────────────────────────────────────┐
│ ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ │
│ ░░░┌─────────────────────────┐░░░░░ │
│ ░░░│ タイトル              × │░░░░░ │
│ ░░░├─────────────────────────┤░░░░░ │
│ ░░░│                         │░░░░░ │
│ ░░░│   コンテンツ             │░░░░░ │
│ ░░░│                         │░░░░░ │
│ ░░░├─────────────────────────┤░░░░░ │
│ ░░░│  [Cancel]      [OK]    │░░░░░ │
│ ░░░└─────────────────────────┘░░░░░ │
│ ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ │
└───────────────────────────────────────┘
サイズ: sm(400px), md(600px), lg(800px)
閉じ方: ×ボタン、背景クリック、Escキー
```

### テーブルパターン

#### データテーブル
```
┌────┬──────────┬─────────┬────────┬──────┐
│ □  │ 名前 ▲   │ 状態    │ 更新日  │ 操作 │
├────┼──────────┼─────────┼────────┼──────┤
│ ☑  │ 項目A    │ ● 完了  │ 1/1    │ ⋮   │
│ □  │ 項目B    │ ○ 作業中│ 1/1    │ ⋮   │
│ □  │ 項目C    │ ○ 未着手│ 12/31  │ ⋮   │
├────┴──────────┴─────────┴────────┴──────┤
│ 1-3 / 100件表示     [<] 1 2 3 ... [>]   │
└──────────────────────────────────────────┘
機能: ソート、選択、ページネーション、行アクション
```

---

## AI UXデザイン

### 基本原則：ヒューマンインループ（Human-in-the-Loop）

**AIが生成したコンテンツは、必ず人間による確認・承認を経てから適用する。**

```
┌─────────────────────────────────────────────────────────────┐
│                    AI UX フロー                              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   [ユーザー入力] → [AI生成] → [プレビュー] → [人間確認] → [適用]│
│                              ↑            │              │
│                              └────[修正]──┘              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### AI生成コンテンツの表示パターン

#### 提案表示（Suggestion）
```
┌─────────────────────────────────────────────────────────────┐
│ 💡 AIの提案                                                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   [生成されたコンテンツ]                                      │
│                                                             │
│   ユーザーストーリー案:                                       │
│   「ユーザーとして、商品を検索したい。                         │
│    なぜなら、欲しい商品を素早く見つけたいから。」               │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ この提案を採用しますか？                                      │
│                                                             │
│   [✏️ 編集して採用]  [✓ そのまま採用]  [✗ 却下]             │
│                                                             │
└─────────────────────────────────────────────────────────────┘

重要:
- 「そのまま採用」でも人間がクリックして承認
- 自動適用は禁止
- 編集可能な状態で提示
```

#### 複数候補からの選択
```
┌─────────────────────────────────────────────────────────────┐
│ 💡 3つの案を生成しました                                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ○ 案1: シンプル版                                           │
│   「ユーザーとして商品を検索したい」                          │
│                                                             │
│ ● 案2: 詳細版  ← 選択中                                     │
│   「買い物客として、キーワードで商品を検索し、               │
│    カテゴリでフィルタリングしたい」                          │
│                                                             │
│ ○ 案3: 技術者向け                                           │
│   「管理者として、全文検索APIを利用したい」                   │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│   [再生成]  [✏️ 編集]  [✓ この案を採用]                      │
└─────────────────────────────────────────────────────────────┘
```

#### インライン提案（Inline Suggestion）
```
┌─────────────────────────────────────────────────────────────┐
│ 受け入れ条件を入力:                                          │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ ユーザーが検索ボックスにキーワードを入力すると            │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ 💡 続き: 「検索結果が0.5秒以内に表示される」        │ │ │
│ │ │                            [Tab で採用] [Esc で却下]│ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘

操作:
- Tab/Enter: 提案を採用（人間のアクション）
- Esc: 提案を却下
- 入力続行: 提案を無視して自分で入力
```

### AI生成中の状態表示

#### ストリーミング表示
```
┌─────────────────────────────────────────────────────────────┐
│ ✨ AIが生成中...                                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ユーザーストーリーを分析しています...                         │
│                                                             │
│ 「ユーザーとして、商品を検索したい。█                        │
│                                                             │
│ ──────────────────────────────────────                      │
│ ████████████████░░░░░░░░░░░░░░░░░░░  45%                    │
│                                                             │
│                                    [⏹ 生成を中止]            │
└─────────────────────────────────────────────────────────────┘

重要:
- 生成中もキャンセル可能
- 進捗状況を可視化
- 何をしているか説明
```

#### 思考プロセスの表示
```
┌─────────────────────────────────────────────────────────────┐
│ 🤔 AIの思考プロセス                                          │
├─────────────────────────────────────────────────────────────┤
│ ✓ ユーザーストーリーを読み込みました                          │
│ ✓ 関連エンティティを特定しました: 商品、カテゴリ              │
│ ● 受け入れ条件を生成しています...                            │
│ ○ 結果を整形します                                          │
└─────────────────────────────────────────────────────────────┘
```

### AI操作の確認フロー

#### 一括操作の確認
```
┌─────────────────────────────────────────────────────────────┐
│ ⚠️ AIによる一括変更の確認                                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ 以下の変更が提案されています:                                 │
│                                                             │
│ 📝 追加 (3件)                                                │
│   • ユーザーストーリー「検索機能」                            │
│   • ユーザーストーリー「フィルター機能」                       │
│   • エンティティ「商品」                                      │
│                                                             │
│ ✏️ 更新 (1件)                                                │
│   • エピック「商品管理」の説明を更新                          │
│                                                             │
│ 🗑️ 削除 (0件)                                                │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ □ 各項目を個別に確認する                                     │
│                                                             │
│   [キャンセル]  [差分を確認]  [すべて適用]                   │
└─────────────────────────────────────────────────────────────┘
```

#### 差分プレビュー
```
┌─────────────────────────────────────────────────────────────┐
│ 📋 変更内容のプレビュー                                       │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ エピック: 商品管理                                           │
│ ─────────────────────────────────────                       │
│ - 説明: 商品の登録と管理                                     │
│ + 説明: 商品の登録、検索、カテゴリ管理を含む                  │
│         包括的な商品管理機能                                  │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│   [✗ この変更を却下]  [✓ この変更を承認]                     │
│                                                             │
│   変更 1/4                              [< 前へ] [次へ >]    │
└─────────────────────────────────────────────────────────────┘
```

### エラーと信頼性

#### AI生成エラー
```
┌─────────────────────────────────────────────────────────────┐
│ ❌ 生成に失敗しました                                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ AIがリクエストを処理できませんでした。                        │
│                                                             │
│ 原因: 入力が長すぎます（最大4000文字）                        │
│                                                             │
│ 対処法:                                                     │
│ • 入力を短くしてください                                     │
│ • 複数回に分けて依頼してください                              │
│                                                             │
│               [もう一度試す]  [手動で入力]                   │
└─────────────────────────────────────────────────────────────┘
```

#### 信頼度の表示
```
┌─────────────────────────────────────────────────────────────┐
│ 💡 AIの提案                                    信頼度: 高 🟢 │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   [生成されたコンテンツ]                                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘

信頼度インジケーター:
- 🟢 高: 類似パターンが多数あり、精度が高い
- 🟡 中: 一部推測を含む、確認を推奨
- 🔴 低: 情報が不足、人間による補完が必要
```

### チェックリスト：AI UX設計

- [ ] **ヒューマンインループ**: 自動適用せず、必ず人間の確認を経る
- [ ] **キャンセル可能**: 生成中でも中断できる
- [ ] **編集可能**: 提案を修正してから採用できる
- [ ] **透明性**: AIが何をしているか表示する
- [ ] **フォールバック**: AI失敗時の代替手段を提供
- [ ] **差分表示**: 変更内容を明確に表示
- [ ] **一括確認**: 複数変更は一覧で確認
- [ ] **取り消し可能**: 適用後もUndo可能

---

